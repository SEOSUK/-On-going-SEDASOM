<?xml version="1.0" ?>
<sdf version="1.8">
    <model name="manipulator">
      <pose>0 0 0.005 0 0 0</pose>

    <!-- For drone -->
    <!-- For drone -->
    <!-- For drone -->

      <link name="link_drone">
        <pose>0.0 0.0 0.15 0.0 0 0</pose>
        <inertial>
          <inertia>
            <ixx>0.032</ixx>
            <ixy>0</ixy>
            <ixz>0</ixz>
            <iyy>0.032</iyy>
            <iyz>0</iyz>
            <izz>0.00012</izz>
          </inertia>
          <mass>0.6</mass>
        </inertial>
        <visual name="visual">
            <pose relative_to="link_drone">0 0 0 0 0 0</pose>
          <geometry>
            <box>
              <size>0.7 0.7 0.3</size>
            </box>
          </geometry>
          <material>
            <ambient>0.0 0.0 1.0 1</ambient>
            <diffuse>0.0 0.0 1.0 1</diffuse>
            <specular>0.0 0.0 1.0 1</specular>
          </material>
        </visual>
        <collision name="collision">
          <geometry>
            <box>
              <size>0.7 0.7 0.3</size>
            </box>
          </geometry>
        </collision>
            <!-- Joint 1 Visual (Sphere) -->
            <visual name="visual_joint_1">
            <pose relative_to="link_drone">0 0 0.15 0 0 0</pose>
                <geometry>
                    <sphere>
                        <radius>0.05</radius>
                    </sphere>
                </geometry>
                <material>
                    <ambient>1.0 1.0 0.0 1.0</ambient>
                    <diffuse>1.0 1.0 0.0 1.0</diffuse>
                </material>
            </visual>
        <sensor name="imu_sensor" type="imu">
          <always_on>1</always_on>
          <update_rate>30</update_rate>
          <visualize>true</visualize>
        </sensor>
      </link>



        <!-- Joint 1 -->
        <joint name="joint_1" type="revolute">
            <pose relative_to="link_drone">0 0 0.15 0 0 0</pose>
            <parent>link_drone</parent>
            <child>link_1</child>
            <axis>
                <xyz>0 0 1</xyz>
                <limit>
	            <effort>1000</effort>
                </limit>
        <dynamics>
            <damping>1</damping>
            <friction>0.0</friction>
        </dynamics>
            </axis>
        </joint>
        <plugin
            filename="ignition-gazebo-joint-position-controller-system"
            name="ignition::gazebo::systems::JointPositionController">
            <joint_name>joint_1</joint_name>
	    <topic>joint_1/cmd</topic>
	    <p_gain>1000</p_gain>
	    <i_gain>0.1</i_gain>
	    <d_gain>0.01</d_gain>
	    <i_max>1</i_max>
	    <i_min>-1</i_min>
	    <cmd_max>1000</cmd_max>
  	    <cmd_min>-1000</cmd_min>
        </plugin>



    <!-- For manipulator -->
    <!-- For manipulator -->
    <!-- For manipulator -->

        <link name="link_1">
          <pose relative_to="link_drone">0 0 0.20 0 0 0</pose>
            <inertial>
                <mass>0.0001</mass>
                <inertia>
		    <ixx>0.0001</ixx>
		    <iyy>0.0001</iyy>
		    <izz>0.0001</izz>
                </inertia>
            </inertial>
            <visual name="visual_link_1">
              <pose relative_to="link_drone">0 0 0.20 0 0 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.03</radius>
                        <length>0.1</length>
                    </cylinder>
                </geometry>
                <material>
                    <ambient>0.0 1.0 1.0 1.0</ambient>
                    <diffuse>0.0 1.0 1.0 1.0</diffuse>
                </material>
            </visual>
            <collision name="collision_link_1">
              <pose relative_to="link_drone">0 0 0.20 0 0 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.03</radius>
                        <length>0.1</length>
                    </cylinder>
                </geometry>
            </collision>
            <!-- Joint 2 Visual (Sphere) -->
            <visual name="visual_joint_2">
            <pose relative_to="link_1">0 0 0.05 0 0 0</pose>
                <geometry>
                    <sphere>
                        <radius>0.04</radius>
                    </sphere>
                </geometry>
                <material>
                    <ambient>1.0 1.0 0.0 1.0</ambient>
                    <diffuse>1.0 1.0 0.0 1.0</diffuse>
                </material>
            </visual>
        </link>
        <!-- Joint 2 -->
        <joint name="joint_2" type="revolute">
            <pose relative_to="link_1">0 0 0.05 0 0 0</pose>
            <parent>link_1</parent>
            <child>link_2</child>
            <axis>
                <xyz>1 0 0</xyz>
                <limit>
	            <effort>1000</effort>
                </limit>
        <dynamics>
            <damping>11</damping>
            <friction>0.0</friction>
        </dynamics>
            </axis>
        </joint>
        <plugin
            filename="ignition-gazebo-joint-position-controller-system"
            name="ignition::gazebo::systems::JointPositionController">
            <joint_name>joint_2</joint_name>
	    <topic>joint_2/cmd</topic>
	    <p_gain>1000</p_gain>
	    <i_gain>0.1</i_gain>
	    <d_gain>0.01</d_gain>
	    <i_max>1</i_max>
	    <i_min>-1</i_min>
	    <cmd_max>1000</cmd_max>
  	    <cmd_min>-1000</cmd_min>
        </plugin>



        <link name="link_2">
            <pose relative_to="link_1">0 0.1 0.05 -1.57 0 0</pose>
            <inertial>
                <mass>0.0001</mass>
                <inertia>
		    <ixx>0.0001</ixx>
		    <iyy>0.0001</iyy>
		    <izz>0.0001</izz>
                </inertia>
            </inertial>
            <visual name="visual_link_2">
            <pose relative_to="link_2">0 0 0 0 0 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.02</radius>
                        <length>0.2</length>
                    </cylinder>
                </geometry>
                <material>
                    <ambient>1.0 0.0 0.0 1.0</ambient>
                    <diffuse>1.0 0.0 0.0 1.0</diffuse>
                </material>
            </visual>
            <collision name="collision_link_2">
            <pose relative_to="link_2">0 0 0 0 0 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.02</radius>
                        <length>0.2</length>
                    </cylinder>
                </geometry>
            </collision>
            <!-- Joint 3 Visual (Sphere) -->
            <visual name="visual_joint_3">
            <pose relative_to="link_2">0 0 0.1 0 0 0</pose>
                <geometry>
                    <sphere>
                        <radius>0.03</radius>
                    </sphere>
                </geometry>
                <material>
                    <ambient>1.0 1.0 0.0 1.0</ambient>
                    <diffuse>1.0 1.0 0.0 1.0</diffuse>
                </material>
            </visual>
        </link>
        <!-- Joint 3 -->
        <joint name="joint_3" type="revolute">
            <pose relative_to="link_2">0 0 0.1 0 0 0</pose>
            <parent>link_2</parent>
            <child>link_3</child>
            <axis>
                <xyz>1 0 0</xyz>
                <limit>
	            <effort>1000</effort>
                </limit>
        <dynamics>
            <damping>11</damping>
            <friction>0.0</friction>
        </dynamics>
            </axis>
        </joint>
        <plugin
            filename="ignition-gazebo-joint-position-controller-system"
            name="ignition::gazebo::systems::JointPositionController">
            <joint_name>joint_3</joint_name>
	    <topic>joint_3/cmd</topic>
	    <p_gain>1000</p_gain>
	    <i_gain>0.1</i_gain>
	    <d_gain>0.01</d_gain>
	    <i_max>1</i_max>
	    <i_min>-1</i_min>
	    <cmd_max>1000</cmd_max>
  	    <cmd_min>-1000</cmd_min>
        </plugin>





        <link name="link_3">
            <pose relative_to="link_2">0 0 0.2 0 0 0</pose>
            <inertial>
                <mass>0.0001</mass>
                <inertia>
		    <ixx>0.0001</ixx>
		    <iyy>0.0001</iyy>
		    <izz>0.0001</izz>
                </inertia>
            </inertial>
            <visual name="visual_link_3">
            <pose relative_to="link_3">0 0 0 0 0 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.02</radius>
                        <length>0.2</length>
                    </cylinder>
                </geometry>
                <material>
                    <ambient>1.0 0.0 0.0 1.0</ambient>
                    <diffuse>1.0 0.0 0.0 1.0</diffuse>
                </material>
            </visual>
            <collision name="collision_link_3">
            <pose relative_to="link_3">0 0 0 0 0 0</pose>
                <geometry>
                    <cylinder>
                        <radius>0.02</radius>
                        <length>0.2</length>
                    </cylinder>
                </geometry>
            </collision>
            <!-- End Effector Visual (Sphere) -->
            <visual name="visual_end_effector">
            <pose relative_to="link_3">0 0 0.1 0 0 0</pose>
                <geometry>
                    <box>
                        <size>0.06 0.06 0.02</size>
                    </box>
                </geometry>
                <material>
                    <ambient>1.0 1.0 1.0 1.0</ambient>
                    <diffuse>1.0 1.0 1.0 1.0</diffuse>
                </material>
            </visual>
        </link>





        <link name="sphere">
            <pose>1 0 0 0 0 0</pose>
            <inertial>
                <mass>2.0</mass>
                <inertia>
		    <ixx>0.084</ixx>
		    <iyy>0.084</iyy>
		    <izz>0.005</izz>
                </inertia>
            </inertial>
            <visual name="visual_sphere">
                <geometry>
                    <cylinder>
                        <radius>0.2</radius>
                        <length>1</length>
                    </cylinder>
                </geometry>
                <material>
                    <ambient>1.0 0.0 0.0 1.0</ambient>
                    <diffuse>1.0 0.0 0.0 1.0</diffuse>
                </material>
            </visual>
            <collision name="collision_sphere">
                <geometry>
                    <cylinder>
                        <radius>0.2</radius>
                        <length>1</length>
                    </cylinder>
                </geometry>
            </collision>
        </link>


    </model>

</sdf>
